<header class="relative text-white">
  <!-- 메인 배경 그라데이션 -->
  <div class="absolute inset-0 bg-gradient-to-r from-purple-700 via-purple-600 to-indigo-600"></div>
  
  <!-- 배경 패턴 오버레이 -->
  <div class="absolute inset-0 opacity-15 bg-[url('/patterns/circuit-board.svg')] mix-blend-overlay"></div>
  
  <!-- 상단 장식 요소 -->
  <div class="absolute top-0 left-0 right-0 overflow-hidden">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 100" class="w-full h-auto fill-white/10">
      <path d="M0,64L30,58.7C60,53,120,43,180,48C240,53,300,75,360,80C420,85,480,75,540,64C600,53,660,43,720,48C780,53,840,75,900,80C960,85,1020,75,1080,64C1140,53,1200,43,1260,48C1320,53,1380,75,1410,80L1440,85L1440,0L1410,0C1380,0,1320,0,1260,0C1200,0,1140,0,1080,0C1020,0,960,0,900,0C840,0,780,0,720,0C660,0,600,0,540,0C480,0,420,0,360,0C300,0,240,0,180,0C120,0,60,0,30,0L0,0Z"></path>
    </svg>
  </div>

  <!-- 헤더 내용 -->
  <div class="container relative z-10 mx-auto px-6 py-5 flex items-center justify-between">
    <!-- 로고 영역 -->
    <div class="flex items-center">
      <h1 class="text-2xl md:text-3xl font-black tracking-tight">
        <a href="/" class="bg-clip-text text-transparent bg-gradient-to-r from-white to-purple-100 hover:opacity-90 transition-all duration-300">
          코없는놈과친구들
        </a>
      </h1>
    </div>
    
    <!-- 모바일 메뉴 버튼 -->
    <button id="mobile-menu-button" type="button"
      class="md:hidden flex items-center px-3 py-2 border rounded border-white/70 bg-white/10 hover:bg-white/20 hover:border-white/90 transition-all ml-auto">
      <svg class="h-4 w-4 fill-current" viewBox="0 0 20 20">
        <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
      </svg>
    </button>
    
    <!-- 네비게이션 -->
    <nav class="relative">
      <ul id="nav-links"
          class="flex flex-col hidden md:flex md:flex-row md:space-x-4 space-y-2 md:space-y-0
                 bg-purple-700/90 md:bg-transparent absolute right-0 top-12 w-48 md:relative md:w-auto
                 rounded-lg md:rounded-none p-4 md:p-0 backdrop-blur-md md:backdrop-blur-0 z-50">
        <li><a href="/"       class="block px-4 py-2 md:py-1 hover:bg-white/20 rounded-lg transition-all duration-300">메인</a></li>
        <li><a href="/friends"class="block px-4 py-2 md:py-1 hover:bg-white/20 rounded-lg transition-all duration-300">친구 소개</a></li>
        <li><a href="/works"  class="block px-4 py-2 md:py-1 hover:bg-white/20 rounded-lg transition-all duration-300">작품</a></li>
      </ul>
    </nav>
  </div>
  
  <!-- 헤더 하단 경계선 -->
  <div class="absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-purple-300/20 via-white/30 to-indigo-300/20"></div>
</header>

<script defer>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('mobile-menu-button');
    const menu = document.getElementById('nav-links');
    if (!btn || !menu) {
      console.error('mobile-menu-button 또는 nav-links를 찾을 수 없습니다.');
      return;
    }

    btn.addEventListener('click', e => {
      e.stopPropagation();
      menu.classList.toggle('hidden');
    });

    document.addEventListener('click', e => {
      if (!menu.contains(e.target) && !btn.contains(e.target)) {
        menu.classList.add('hidden');
      }
    });
  });
</script>

<style>
  /* 애니메이션 */
  @keyframes slideIn {
    from { opacity: 0; transform: translateX(20px); }
    to   { opacity: 1; transform: translateX(0); }
  }
  #nav-links:not(.hidden) {
    animation: slideIn 0.3s ease-out forwards;
  }
  
  /* 활성 페이지 표시 */
  :global(header a[aria-current="page"]) {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 0.5rem;
    font-weight: 600;
  }
</style>
